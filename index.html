<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="./bootstrap/bootstrap.min.css">
    <script src="./jquery/jquery-3.3.1.min.js"></script>
    <script src="./bootstrap/bootstrap.min.js"></script>
    <script src="./vue/vue.js"></script>
    <title>guozhiliang</title>
</head>

<body>
    <!-- <h1>Hello World！</h1> -->
    <div id="app">
        <!-- <p>{{msg}}</p> -->
        <div class=" panel-body form-inline">
            Id <input class="form-control" v-model='id'>
            Name <input class="form-control" v-model='name'>
            <input type="button" class="btn btn-success" value="添加" @click='add()'>
            <input class="form-control" v-model='keywords'>
        </div>
        <table class="table table-bordered table-hover">
            <tr>
                <th>Id</th>
                <th>Name</th>
                <th>Time</th>
                <th>Option</th>
            </tr>
            <tr v-for="item in find(keywords)" :key="item.id">
                <td>{{item.id}}</td>
                <td>{{item.name}}</td>
                <td>{{item.time}}</td>
                <td><a href="" @click.prevent='del(item.id)'>删除</a></td>
            </tr>
        </table>
    </div>

    <script>
        let vm = new Vue({
            el: '#app   ',
            data: {
                msg: 'Vue',
                id: '',
                name: '',
                keywords:'',
                list: [{ id: 1, name: '宝马', time: new Date() }, { id: 3, name: '奔驰', time: new Date() }, { id: 4, name: '奔驰', time: new Date() }, { id: 5, name: '奔驰', time: new Date() }, { id: 6, name: '奔驰', time: new Date() }, { id: 7, name: '奔驰', time: new Date() }, { id: 8, name: '奔驰', time: new Date() }, { id: 9, name: '奔驰', time: new Date() }, { id: 11, name: '奔驰', time: new Date() }, { id: 12, name: '奔驰', time: new Date() }]
            },
            methods: {
                add() {
                    let car = {
                        id:this.id,
                        name: this.name, 
                        time: new Date()
                    };
                    this.list.push(car);
                    this.id=this.name='';
                },
                del(id){
                    let index = this.list.find(item=>{
                        if(item.id==id){
                            return true;
                        }
                    });
                    this.list.splice(index,1);

                },
                find(keywords){
                    let newList = [];
                    this.list.forEach(item => {
                        if(item.name.indexOf(keywords)!=-1){
                            newList.push(item);
                        }
                    });
                    return newList;
                }
            }
        })
    </script>
</body>

</html>